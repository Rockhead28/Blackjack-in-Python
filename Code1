# @title
#write a blackjack game
#input 2 user. 1 dealer, 1 player
#start with player, then followed by dealer
#if player have card score below 21, have option to draw another card or can opt to stop. Up to a maximum of 5 cards
#winner must have higher score than the other user, and must be below 21 points. No minimum score
#Aces can be 1 or 11
#J,Q,K is 10

import random

start = input("Welcome to Ivan's Blackjack!. Hit [Enter] to Start Playing:")

cards = {
    "Aces": 11, 
    "2": 2, 
    "3": 3, 
    "4": 4,
    "5": 5,
    "6": 6,
    "7": 7,
    "8": 8,
    "9": 9,
    "10": 10,
    "Jack": 10,
    "Queen": 10,
    "King": 10
    }
    
player_hand = []
dealer_hand = []

#dealer card. represented with letter d in front
#might not need this category
dcard1 = random.choice (list(cards))
dcard1v = cards.get(dcard1)
dcard2 = random.choice (list(cards))
dcard2v = cards.get(dcard2)


#add card number into dealer_hand
dealer_hand = dcard1v + dcard2v

#perhaps change both player and dealer hand into a list
#if either hand have >3 cards, A = 1


#player card
#cards.get >> .get is used to obtain the values of the key in dictionary.
#card with v is the integar value that was converted. Previous method of .get and .append to list ends up being a string. Or maybe I was wrong somewhere earlier. Error msg is TypeError: 'int' object is not iterable.
card1 = random.choice (list(cards))
card1v = cards.get(card1)
card2 = random.choice (list(cards))
card2v = cards.get(card2)
card3 = random.choice (list(cards))
card3v = cards.get(card3)
card4 = random.choice (list(cards))
card4v = cards.get(card4)
card5 = random.choice (list(cards))
card5v = cards.get(card5)

#add card number into player_hand
player_hand = card1v + card2v

#short list variables
input_question = ("Would you still like to Play or Pass?")

print (f"Your first two card is {card1} and {card2}. Total card number is {player_hand}")

#3rd card for player
#still fixing the break part. still not right
#by 4th or 5th card, if it pass or burst, it will loop back to 3rd card means repeating the message
while True:
  if player_hand == 21:
      print ("Congrats! You have a blackjack!")
      break
  elif player_hand > 21:
      print ("You've burst!")
      break
  #3rd card for player
  else:
      first_input = input (input_question).lower()
      if first_input == "pass":
          print (f"Your total card number is {player_hand}")
          break
      elif first_input == "play":
          player_hand += card3v
          #tried changing aces to value 1, but it didnt work here.
          cards ["Aces"] = 1
          print (f"Your third card is {card3}. Total card number is {player_hand}")
          if player_hand == 21:
              print ("Congrats! You have a blackjack!")
              break
          elif player_hand > 21:
              print ("You've burst!")
              break
          #4th card for player
          else:
              second_input = input (input_question).lower()
              if second_input == "pass":
                  print (f"Your total card number is {player_hand}")
                  break
              elif second_input == "play":
                  player_hand += card4v
                  print (f"Your fourth card is {card4}. Total card number is {player_hand}")
                  if player_hand == 21:
                      print ("Congrats! You have a blackjack!")
                      break
                  elif player_hand > 21:
                      print ("You've burst!")
                      break
                  #5th card for player
                  else: 
                      third_input = input (input_question).lower()
                      if third_input == "pass":
                          print (f"Your total card number is {player_hand}")
                          break
                      elif third_input == "play":
                          player_hand += card5v
                          print (f"Your fifth card is {card5}. Total card number is {player_hand}")
                          break
                          if player_hand == 21:
                            print ("Congrats! You have a blackjack!")
                            break
                          elif player_hand > 21:
                            print ("You've burst!")
                            break


#draw dealer hand
print (f"Dealer first two card is {dcard1} and {dcard2}")

#r is to control number of cards dealer can draw
#only limit to 3 as dealer already have 2 cards
#need improvement, right now the dealer cards will still draw even after 3 iteration.
#may need additional loops
r = 0
while r<3 and dealer_hand <18:
  draw_card_face = random.choice (list(cards))
  draw_card_value = cards.get(draw_card_face)
  dealer_hand += draw_card_value
  r+=1
  print (f"Dealer's next card is number is {draw_card_face}")
print (f"Dealer's total card number is {dealer_hand}")

#final calculation comparison of both hands
if (player_hand <= 21) and (player_hand > dealer_hand):
    print ("Player Win!")
elif (player_hand <= 21) and (dealer_hand > 21):
    print ("Player Win!")
elif (player_hand == 21) and (dealer_hand == 21):
    print ("Player Win!")
elif (player_hand < 21) and (player_hand == dealer_hand):
    print ("It's a Draw!")
elif (player_hand > 21) and (dealer_hand > 21):
    print ("Dealer also burst! It's a Draw!")
elif (dealer_hand <= 21) and (player_hand <= dealer_hand):
    print ("Dealer Win!")
else:
    print ("Dealer Win!")
